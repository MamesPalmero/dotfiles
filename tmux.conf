# Character support
if-shell '[ $(echo "$(tmux -V | cut -d" " -f2) < 2.2" | bc) -eq 1 ]' \
    'set -g utf8; setw -g utf8 on'

# Start window index of 1 instead of 0
set -g base-index 1

# Set prefix Key
unbind C-b
set -g prefix C-a
# Si corremos un tmux dentro de otro, como enviar comandos al mÃ¡s interno (C-A C-A comando)
bind-key a send-prefix

# Scrollback buffer size
set -g history-limit 10000

# Enable mouse control (clickable windows, panes, resizable panes)
if-shell '[ $(echo "$(tmux -V | cut -d " " -f2) >= 2.1" | bc) -eq 1 ]' \
    'set -g mouse on' \
    'set -g mode-mouse on; set -g mouse-resize-pane on; set -g mouse-select-pane on; set -g mouse-select-window on'

# https://github.com/neovim/neovim/wiki/FAQ#esc-in-tmux-or-gnu-screen-is-delayed
set -g escape-time 10

# Reload config without killing server
bind r source-file ~/.tmux.conf \; display-message "  Config reloaded..".

# Split panels as vim
bind v split-window -h
bind s split-window -v
unbind '"'
unbind %

# Move between panels as vim
setw -g mode-keys vi
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

# Change to buffer mode with prefix + space (appart from Ctrl+a [ or Ctrl+a PgUp)
bind-key Space copy-mode

# Copy as vim
bind P paste-buffer
bind-key -t vi-copy 'v' begin-selection
bind-key -t vi-copy 'y' copy-selection
bind-key -t vi-copy 'r' rectangle-toggle

# Copy from tmux buffer to system buffer
bind -t vi-copy y copy-pipe "xclip -sel clip -i"

# show session, window, pane in left status bar
#set -g status-left-length 40

# Los colores se pueden especificar en RRGGBB:
set -g default-terminal "screen-256color"

# color status bar
set -g status-bg black
set -g status-fg white
set -g status-left "#[bg=blue] #S "
#set -g status-left '#[fg=red]Session:#S#[fg=red] Window:#I Pane:#P#[default]'
#set -g status-left "#{pane_current_path}"
set -g status-right "#[fg=cyan]%I:%M"
#set -g status-right '#[fg=red]#H#[default] %I:%M'

# set color of active pane
set -g pane-border-fg default
set -g pane-border-bg default
set -g pane-active-border-fg default
set -g pane-active-border-bg default

# highlight current window
setw -g window-status-current-fg default
setw -g window-status-current-bg cyan
setw -g window-status-format ' #I:#W '
setw -g window-status-current-format ' #I:#W '



# -----References-----
# https://wiki.archlinux.org/index.php/tmux
# https://superuser.com/questions/758843/difference-between-global-server-session-and-window-options
# https://stackoverflow.com/questions/45017773/what-are-the-differences-between-set-g-set-ga-and-set-option-g-in-a-tmux-co
# http://www.rushiagr.com/blog/2016/06/16/everything-you-need-to-know-about-tmux-copy-pasting-ubuntu/
